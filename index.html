<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title> Basic example </title>
    <link rel="stylesheet" href="Treant.css">
    <link rel="stylesheet" href="basic-example.css">
    
</head>
<body>
    <div class="chart" id="tree-simple"></div>
    <script src="vendor/raphael.js"></script>
    <script src="Treant.js"></script>
    
   <script src="vendor/jquery.min.js"></script>
	 <script src="test.js"></script>
	<script>
		//new Treant( chart_config );
		var chart_config = '';
		 $( document ).ready(function() {
			//var chart_config;
			chart_config += '{  chart: {  container: "#tree-simple"   },nodeStructure: {';
			
			$.ajax({
				url :'data.json',
				method : 'POST', // form submit method get/post
				data : {},
				ContentType : 'application/json',
				dataType: 'json',
				success: function(result){
					//console.log(result);					
					$.each( result, function( key, val ) {
						var me = this;
						chart_config += 'text:{name:"'+me.name+'"},';
						var c = 1;
						chart_config +='children:[';
						$.each(me.child, function(i, j){							
							chart_config += '{text: { name: "'+this.name+'" }}';
							if(c < me.child.length) { chart_config += ',';	}
							
							c++;
						});
						chart_config += ']';
					  
					});
					chart_config += '} }';					
					

					}
				});
				
			new Treant( chart_config );
			//console.log(chart_config);
			
		});
		
    </script>
</body>
</html>